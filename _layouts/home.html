---
layout: default
---
<header>
  <h1>{{ site.title | escape }}</h1>
</header>

<main>

{{ content }}

  <p>Server Date (Liquid): {{ site.first.post.date | date: "%Y-%m-%dT%H:%M:%SZ" }}</p>
  <p id="timeDifference">Calculating...</p>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const serverDateString = '{{ site.first.post.date | date: "%Y-%m-%dT%H:%M:%SZ" }}';
      console.log('Server date string:', serverDateString); // For debugging

      if (!serverDateString || serverDateString.includes('{{')) {
        document.getElementById('timeDifference').textContent = 'Unable to retrieve server date';
        return;
      }

      const serverDateUTC = new Date(serverDateString);
      const serverDatePDT = new Date(serverDateUTC.getTime() - 7 * 60 * 60 * 1000);

      const currentDate = new Date();
      const offset = currentDate.getTimezoneOffset() / 60 + 7; // Convert to PDT offset
      const currentDatePDT = new Date(currentDate.getTime() - offset * 60 * 60 * 1000);

      const timeDifference = ((currentDatePDT - serverDatePDT) / (24 * 60 * 60 * 1000)).toFixed(2);
      document.getElementById('timeDifference').textContent = `Time difference in days: ${timeDifference}`;
    });
  </script>

</main>

{%- include footer.html -%}